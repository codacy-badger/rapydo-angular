
###############################
# GLOBAL CONFIGURATION
conf:
  image: alpine
  command: ./boot
  environment:
    APP_MODE: ${SELECTED_APP_MODE}
###############################

frontend:
  extends:
    service: conf
  image: rapydo/frontend
  hostname: frontend
  working_dir: /data/frontend
  environment:
    PYTHON_SERVER_CATEGORY: frontend
  volumes_from:
    - htmlfiles
  volumes:
    # # Sql lite database & common models
    # - restangulask_apilitedb:/dbs
    # Main dir. It has to be the root directory, to make links work
    - ..:/data
    # - ../backend/commons:/data/frontend/commons
    # Configuration files
    - ../specs:/data/frontend/config/specs

###############################
# Make automatic to install libraries
bower:
    image: pdonorio/jsdev
    working_dir: /data/libs
    volumes:
        - ..:/data

###############################
# Make automatic to install libraries
karma:
    image: pdonorio/jsdev
    working_dir: /data
    volumes:
        - ../libs/bower_components:/data/bower_components
        - ../jscode:/data
